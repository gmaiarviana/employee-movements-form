# GitHub Copilot Instructions

## Environment Setup
- **Shell**: Always use PowerShell commands (Windows PowerShell v5.1)
- **Docker**: ALWAYS use Docker containers - never run Node.js directly on the host
- **Primary tool**: Use `docker-compose` for development and deployment

## Critical Rules - Avoid Previous Friction
1. **PowerShell Commands**: 
   - NEVER use `curl -X GET` - use `Invoke-WebRequest -Uri "url" -Method GET`
   - Always use PowerShell-compatible syntax
   
2. **Docker Workflow**:
   - Use `docker-compose up -d` for detached mode (background)
   - Use `docker-compose logs` to check container status
   - If containers hang, use `docker-compose down` first, then restart
   
3. **API Testing**:
   - Format JSON responses: `(Invoke-WebRequest -Uri "url").Content | ConvertFrom-Json | ConvertTo-Json -Depth 10`
   - Use Simple Browser for visual testing: `open_simple_browser` tool
   
4. **File Editing**:
   - When implementing APIs, add middleware like `app.use(express.json())` if missing
   - Always include proper error handling for file operations
   - Test with sample data if JSON files are empty

## Development Workflow
- Use `docker-compose up -d` to start the application in background
- Use `docker-compose down` to stop services cleanly
- Use `docker-compose logs` to check application status
- For package management, run npm commands inside Docker containers

## Project Structure
This is a Node.js/Express application with the following structure:
- `src/data/` - JSON data files (employees.json, projects.json, entries.json, exits.json)
- `src/public/` - Static frontend files (HTML, CSS, JS)
- `server.js` - Main Express server file

## API Implementation Guidelines
- When creating new APIs, always:
  1. Read all required JSON data files
  2. Implement proper error handling for missing files/data
  3. Include data consolidation logic as needed
  4. Sort results chronologically when dealing with temporal data
  5. Return meaningful error messages

## Commands Examples
- Start development: `docker-compose up -d --build`
- Check logs: `docker-compose logs`
- Stop services: `docker-compose down`
- Test API: `Invoke-WebRequest -Uri "http://localhost:3000/api/endpoint" -Method GET`
- Install packages: `docker-compose exec app npm install <package>`
- Run commands in container: `docker-compose exec app <command>`

## Data Structure Notes
- Employee movements tracked in `entries.json` and `exits.json`
- Each entry/exit should reference `employeeId` and optionally `projectId`
- API responses should include human-readable details with employee names and project names
- Dates should be sorted chronologically (oldest first)

## Notes
- Always consider Docker context when suggesting solutions
- Prefer PowerShell syntax for any shell commands
- This is an employee movements tracking application for managing entries and exits
- Test APIs with sample data to ensure proper functionality
